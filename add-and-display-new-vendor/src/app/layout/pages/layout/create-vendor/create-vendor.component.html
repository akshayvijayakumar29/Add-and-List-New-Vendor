<div class="top-nav-section">
  <app-navbar></app-navbar>
</div>
<app-breadcrumb></app-breadcrumb>
<form [formGroup]="vendorForm" (ngSubmit)="onSubmit()" class="container">
  <!-- Vendor Name -->
  <div class="form-group">
    <label for="vendor-name" class="vendorName-input">
      Vendor Name
      <span>*</span>
    </label>
    <div class="section-subtitle">
      Enter Guest facing Vendor name
    </div>
    <input id="vendor-name" formControlName="vendorName" placeholder="" type="text" />
    @for (message of validationMessages.vendorName; track message.type) {
    @if (vendorForm.get('vendorName')?.hasError(message.type) &&
    (vendorForm.get('vendorName')?.dirty ||
    vendorForm.get('vendorName')?.touched)) {
    <div class="error-message">{{ message.message }}</div>
    }
    }
  </div>

  <!-- Address Section -->
  <div class="section-title">
    Address
    <span>*</span>
  </div>
  <div class="section-subtitle">
    Enter vendor's physical address
  </div>
  <div class="form-row">
    <div class="form-group">
      <label for="street-address-1" class="sub-label">
        Street Address 1
      </label>
      <input id="street-address-1" formControlName="streetAddress1" placeholder="Enter Address" type="text" />
    </div>
    <div class="form-group">
      <label for="street-address-2" class="sub-label">
        Street Address 2
      </label>
      <input id="street-address-2" formControlName="streetAddress2" placeholder="Enter Address" type="text" />
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label for="city" class="sub-label">
        City
        <span>*</span>
      </label>
      <input id="city" formControlName="city" placeholder="Enter City" type="text" />
      @for (message of validationMessages.city; track message.type) {
      @if (vendorForm.get('city')?.hasError(message.type) &&
      (vendorForm.get('city')?.dirty ||
      vendorForm.get('city')?.touched)) {
      <div class="error-message">{{ message.message }}</div>
      }
      }
    </div>
    <div class="form-group">
      <label for="country" class="sub-label">
        Country
        <span>*</span>
      </label>
      <select id="country" formControlName="country">
        <option value="">Select country</option>
        @for(item of countries; track item){
        <option>{{item.name}}</option>
        }
      </select>
      @for (message of validationMessages.country; track message.type) {
      @if (vendorForm.get('country')?.hasError(message.type) &&
      (vendorForm.get('country')?.dirty ||
      vendorForm.get('country')?.touched)) {
      <div class="error-message">{{ message.message }}</div>
      }
      }
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label for="state" class="sub-label">
        State/ Province/ Region
      </label>
      <select id="state" formControlName="state">
        <option value="Select Region">State/ Province/ Region</option>
        @for(item of countries; track item){
        <option>{{item.regions}}</option>
        }
      </select>
    </div>
    <div class="form-group">
      <label for="postal-code" class="sub-label">
        Postal Code
      </label>
      <input id="postal-code" formControlName="postalCode" placeholder="Enter Postal Code" type="text" />
    </div>
  </div>

  <!-- Market -->
  <div class="form-group">
    <label for="market" class="market-input">
      Market
      <span>*</span>
    </label>
    <div class="section-subtitle">
      Select all the market vendor provide services
    </div>
    <select id="market" formControlName="market">
      <option value="">Select Market</option>
      @for(item of markets;track item){
      <option>{{item.label}}</option>
      }
    </select>
    @for (message of validationMessages.market; track message.type) {
    @if (vendorForm.get('market')?.hasError(message.type) &&
    (vendorForm.get('market')?.dirty ||
    vendorForm.get('market')?.touched)) {
    <div class="error-message">{{ message.message }}</div>
    }
    }


  </div>

  <!-- Contact Information -->
  <label for="Contact-information" class="contact">
    General Contact Information
    <span>*</span>
  </label>
  <div class="section-subtitle">
    Enter at least one contact information for this vendor
  </div>
  <div class="form-row contact-info">
    <div class="form-group">
      <label for="email" class="sub-label">
        Email
      </label>
      <input id="email" formControlName="email" placeholder="Enter Email" type="text" />
    </div>
    @for (message of validationMessages.email; track message.type) {
    @if (vendorForm.get('email')?.hasError(message.type) &&
    (vendorForm.get('email')?.dirty ||
    vendorForm.get('email')?.touched)) {
    <div class="error-message">{{ message.message }}</div>
    }
    }

    <div class="form-group">
      <label for="phone" class="sub-label" id="phone-label">
        Phone
      </label>
      <div class="phone-group">
        <select id="phone-code" formControlName="phoneCode">
          <option value="phone-code">Code</option>
          @for(item of countries; track item){
          <option>{{item.phone_code}}</option>
          }
        </select>
        <input id="phone" formControlName="phone" placeholder="Enter Phone" type="text" />
      </div>
    </div>
    <div class="form-group">
      <label for="website" class="sub-label">
        Website (Optional)
      </label>
      <input id="website" formControlName="website" placeholder="Enter Website" type="text" />
    </div>
  </div>

  <!-- Service Types -->
  <label for="service-type" class="contract">
    Service Type
  </label>
  <div class="section-subtitle">
    Select the type of service
  </div>
  <div class="form-group">
    <div class="radio-group">
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Hotel" />
        <span class="service-name">Hotel Room</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Ship Cabin" />
        <span class="service-name">Ship Cabin</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Meal" />
        <span class="service-name">Meal</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Transport" />
        <span class="service-name">Transport</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Permit" />
        <span class="service-name">Permit</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Physical Activity" />
        <span class="service-name">Physical Activity</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Non-Physical Activity" />
        <span class="service-name">Non-Physical Activity</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Venue" />
        <span class="service-name">Venue</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Local Guide" />
        <span class="service-name">Local Guide</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="serviceType" value="Other" />
        <span class="service-name">Other</span>
      </label>
    </div>
    <div *ngIf="vendorForm.get('serviceType')?.touched && vendorForm.get('serviceType')?.invalid">
      <div class="error-message">Please select a service type.</div>
    </div>
  </div>


  <!-- Contract Type -->
  <label for="contract-type" class="contract">
    Contract Type
  </label>
  <div class="section-subtitle">
    Select the Contract Type for this Vendor
  </div>
  <div class="form-group">
    <div class="radio-group">
      <label>
        <div class="radio-btn">
          <input type="radio" value="Full-Contract" formControlName="contractType"> Full Contract
        </div>
      </label>
      <div class="radio-btn">
        <label>
          <input type="radio" value="Dates & rates" formControlName="contractType"> Dates & rates
        </label>
      </div>
      <div class="radio-btn">
        <label>
          <input type="radio" value="Online Booking" formControlName="contractType"> Online Booking
        </label>
      </div>
      <div class="radio-btn">
        <label>
          <input type="radio" value="No contract" formControlName="contractType"> No contract
        </label>
      </div>
    </div>
    <div *ngIf="vendorForm.get('contractType')?.touched && vendorForm.get('contractType')?.invalid">
      <div class="error-message">Please select a contract type.</div>
    </div>
  </div>
  <label for="vendor-confidence" class="contract">
    Vendor Confidence
  </label>
  <div class="section-subtitle">
    Select the Confidence Level for this Vendor
  </div>
  <div class="form-group">
    <div class="radio-group">
      <label class="radio-btn">
        <input type="radio" formControlName="vendorConfidence" value="Low" />
        <span class="service-name">Low</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="vendorConfidence" value="Medium" />
        <span class="service-name">Medium</span>
      </label>
      <label class="radio-btn">
        <input type="radio" formControlName="vendorConfidence" value="High" />
        <span class="service-name">High</span>
      </label>
    </div>
    <div *ngIf="vendorForm.get('vendorConfidence')?.touched && vendorForm.get('vendorConfidence')?.invalid">
      <div class="error-message">Please select a confidence level.</div>
    </div>
  </div>


  <!--footer-->
  <div class="form-footer">
    <div class="note">
      Fill all mandatory fields to submit for approval
    </div>
    <div class="footer-buttons">
      <app-discard-modal></app-discard-modal>
      <button class="submit" type="submit">
        Submit for Approval
      </button>
    </div>
  </div>
</form>
